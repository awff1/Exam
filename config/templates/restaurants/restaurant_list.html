{% extends "base.html" %}
{% block title %}–†–µ—Å—Ç–æ—Ä–∞–Ω—ã{% endblock %}

{% block content %}

<h1>–°–ø–∏—Å–æ–∫ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤</h1>

<form method="get">
    <input type="text" name="q" placeholder="–ü–æ–∏—Å–∫..." value="{{ request.GET.q }}">
    <button type="submit">–ù–∞–π—Ç–∏</button>
</form>

<br>
<a href="{% url 'restaurant_create' %}">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω</a>

<ul>
{% for restaurant in object_list %}
    <li>
        <b>{{ restaurant.name }}</b><br>
        {{ restaurant.address }}<br>
        {{ restaurant.contact_info }}<br>

        {% if restaurant.logo %}
            <img src="{{ restaurant.logo.url }}" width="100">
        {% endif %}

        <br>
        <!-- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å / –£–¥–∞–ª–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω -->
        <a href="{% url 'restaurant_update' restaurant.pk %}">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a> |
        <a href="{% url 'restaurant_delete' restaurant.pk %}">üóë –£–¥–∞–ª–∏—Ç—å</a> |

        <!-- –ü–µ—Ä–µ—Ö–æ–¥ –∫ –º–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞, –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å -->
        {% if restaurant.menu %}
            <a href="{% url 'dish_list' restaurant.menu.id %}">üìã –ú–µ–Ω—é</a>
        {% else %}
            <span>–ú–µ–Ω—é –ø–æ–∫–∞ –Ω–µ—Ç</span>
        {% endif %}
    </li>
    <hr>
{% empty %}
    <li>–†–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –Ω–µ—Ç</li>
{% endfor %}
</ul>

{% if is_paginated %}
<div>
    {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}">‚Üê</a>
    {% endif %}
    –°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}
    {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">‚Üí</a>
    {% endif %}
</div>
{% endif %}

{% endblock %}
